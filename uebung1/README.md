TODO:

probably all doubles can be ints instead. check that.
